"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),PropTypes=_interopDefault(require("prop-types")),styled=_interopDefault(require("styled-components"));function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _templateObject10(){var e=_taggedTemplateLiteral(["\n       display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: 300;\n        cursor: pointer;\n        height: 32px;\n        line-height: 32px;\n        padding: 0 16px;\n        text-align: center;\n        white-space: nowrap;\n        user-select: none;\n        border: 0;\n        border-radius: 3px;\n        outline: none;\n        background-color: #0084ff;\n        color: #fff;\n        font-size: 14px;\n        margin-left: 10px;\n"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral(["\n        height: 1px;\n        width: 25px;\n        top: 1px;\n        position: absolute;\n        z-index: 1;\n        background: #1787fc;\n"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral(["\n        position: absolute;\n        z-index: 2;\n        width: 15px;\n        height: 15px;\n        border-radius: 50%;\n        background: #1787fc;\n        box-shadow: 0 0 0 2px white;\n        top: -7px;\n        left: -7px;\n"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral(["\n        padding: 10px 0 0;\n        text-align: right;\n"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral(["\n        margin-bottom: 15px;\n        color: #4d4d4d;\n        font-size: 12px;\n        line-height: 1.25px\n"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral(["\n        margin-bottom: 8px;\n        letter-spacing: normal;\n        color: #000000;\n        font-size: 14px;\n        font-weight: 600;\n        font-style: normal;\n"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral(["\n        width: 35%;\n        font-size: 12px;\n"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([" \n    display: flex;\n        width: 87%;\n        margin-bottom: 10px;\n        align-items: center;\n"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral(["\n        position: absolute;\n        top: 8px;\n        right: 10px;\n        padding: 0;\n        cursor: pointer;\n        color: grey;\n        border: 0;\n        outline: none;\n        background: transparent;\n"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral(["\n        width: 226px;\n        min-height: 100px;\n        background-color: white;\n        padding: 10px;\n        border: 1px solid #d9d9d9;\n        box-shadow: 0 3px 8px 0 rgba(0,0,0,.15);\n        transform: translate(22px, -50px);\n        z-index: 2;\n        position: relative;\n"]);return _templateObject=function(){return e},e}var WizardStyled=styled.div(_templateObject()),CloseButton=styled.button(_templateObject2()),Info=styled.div(_templateObject3()),StepsCount=styled.div(_templateObject4()),Title=styled.div(_templateObject5()),Description=styled.div(_templateObject6()),Footer=styled.div(_templateObject7()),Pin=styled.div(_templateObject8()),Line=styled.div(_templateObject9()),StepButton=styled.div(_templateObject10()),Wizard=function(e){var t=e.isShow,n=e.rule,r=e.prevButtonTitle,o=e.nextButtonTitle,i=_slicedToArray(React.useState(t),2),a=i[0],l=i[1],c=_slicedToArray(React.useState(null),2),p=c[0],u=c[1],d=_slicedToArray(React.useState(void 0),2),s=d[0],f=d[1],_=_slicedToArray(React.useState(0),2),b=_[0],g=_[1],m=getStep(b,n),y=_objectSpread2({position:"absolute",zIndex:99,transition:p},s);function O(e){g(e),f(getCoords(getStep(e,n).elementId)),u("all 100ms ease")}return React.useEffect((function(){f(getCoords(getStep(b,n).elementId))}),[n]),a&&s?(console.log("currentStepNumber !== rule.length",b,n.length),React__default.createElement("div",{style:y},React__default.createElement(WizardStyled,null,React__default.createElement(CloseButton,{onClick:function(){return l(!1)}},"X"),React__default.createElement(Info,null,React__default.createElement(StepsCount,null,b+1," of ",n.length)),React__default.createElement(Title,{dangerouslySetInnerHTML:{__html:m.title}}),React__default.createElement(Description,{dangerouslySetInnerHTML:{__html:m.description}}),React__default.createElement(Footer,null,0!==b&&React__default.createElement(StepButton,{onClick:function(){return O(b-1)}},r),b!==n.length-1&&React__default.createElement(StepButton,{onClick:function(){return O(b+1)},disabled:b+1===n.length},o))),React__default.createElement(Pin,null),React__default.createElement(Line,null))):null};function getStep(e,t){return t[e]}function getCoords(e){var t=document.getElementById(e).getBoundingClientRect();return{top:t.top+t.height/2,left:t.left+t.width}}Wizard.propTypes={isShow:PropTypes.bool,rule:PropTypes.arrayOf(PropTypes.shape({elementId:PropTypes.string.isRequired,title:PropTypes.string.isRequired,description:PropTypes.string.isRequired})).isRequired,prevButtonTitle:PropTypes.string,nextButtonTitle:PropTypes.string},Wizard.defaultProps={isShow:!0,prevButtonTitle:"Prev",nextButtonTitle:"Next"},exports.Wizard=Wizard;
